{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _toConsumableArray2 = require('babel-runtime/helpers/toConsumableArray');\n\nvar _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _toArray2 = require('babel-runtime/helpers/toArray');\n\nvar _toArray3 = _interopRequireDefault(_toArray2);\n\nvar _simpleAssign = require('simple-assign');\n\nvar _simpleAssign2 = _interopRequireDefault(_simpleAssign);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _TransitionGroup = require('react-transition-group/TransitionGroup');\n\nvar _TransitionGroup2 = _interopRequireDefault(_TransitionGroup);\n\nvar _dom = require('../utils/dom');\n\nvar _dom2 = _interopRequireDefault(_dom);\n\nvar _CircleRipple = require('./CircleRipple');\n\nvar _CircleRipple2 = _interopRequireDefault(_CircleRipple);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n} // Remove the first element of the array\n\n\nvar shift = function shift(_ref) {\n  var _ref2 = (0, _toArray3.default)(_ref),\n      newArray = _ref2.slice(1);\n\n  return newArray;\n};\n\nvar TouchRipple = function (_Component) {\n  (0, _inherits3.default)(TouchRipple, _Component);\n\n  function TouchRipple(props, context) {\n    (0, _classCallCheck3.default)(this, TouchRipple); // Touch start produces a mouse down event for compat reasons. To avoid\n    // showing ripples twice we skip showing a ripple for the first mouse down\n    // after a touch start. Note we don't store ignoreNextMouseDown in this.state\n    // to avoid re-rendering when we change it.\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, (TouchRipple.__proto__ || (0, _getPrototypeOf2.default)(TouchRipple)).call(this, props, context));\n\n    _this.handleMouseDown = function (event) {\n      // only listen to left clicks\n      if (event.button === 0) {\n        _this.start(event, false);\n      }\n    };\n\n    _this.handleMouseUp = function () {\n      _this.end();\n    };\n\n    _this.handleMouseLeave = function () {\n      _this.end();\n    };\n\n    _this.handleTouchStart = function (event) {\n      event.stopPropagation(); // If the user is swiping (not just tapping), save the position so we can\n      // abort ripples if the user appears to be scrolling.\n\n      if (_this.props.abortOnScroll && event.touches) {\n        _this.startListeningForScrollAbort(event);\n\n        _this.startTime = Date.now();\n      }\n\n      _this.start(event, true);\n    };\n\n    _this.handleTouchEnd = function () {\n      _this.end();\n    };\n\n    _this.handleTouchMove = function (event) {\n      // Stop trying to abort if we're already 300ms into the animation\n      var timeSinceStart = Math.abs(Date.now() - _this.startTime);\n\n      if (timeSinceStart > 300) {\n        _this.stopListeningForScrollAbort();\n\n        return;\n      } // If the user is scrolling...\n\n\n      var deltaY = Math.abs(event.touches[0].clientY - _this.firstTouchY);\n      var deltaX = Math.abs(event.touches[0].clientX - _this.firstTouchX); // Call it a scroll after an arbitrary 6px (feels reasonable in testing)\n\n      if (deltaY > 6 || deltaX > 6) {\n        var currentRipples = _this.state.ripples;\n        var ripple = currentRipples[0]; // This clone will replace the ripple in ReactTransitionGroup with a\n        // version that will disappear immediately when removed from the DOM\n\n        var abortedRipple = _react2.default.cloneElement(ripple, {\n          aborted: true\n        }); // Remove the old ripple and replace it with the new updated one\n\n\n        currentRipples = shift(currentRipples);\n        currentRipples = [].concat((0, _toConsumableArray3.default)(currentRipples), [abortedRipple]);\n\n        _this.setState({\n          ripples: currentRipples\n        }, function () {\n          // Call end after we've set the ripple to abort otherwise the setState\n          // in end() merges with this and the ripple abort fails\n          _this.end();\n        });\n      }\n    };\n\n    _this.ignoreNextMouseDown = false;\n    _this.state = {\n      // This prop allows us to only render the ReactTransitionGroup\n      // on the first click of the component, making the inital render faster.\n      hasRipples: false,\n      nextKey: 0,\n      ripples: []\n    };\n    return _this;\n  }\n\n  (0, _createClass3.default)(TouchRipple, [{\n    key: 'start',\n    value: function start(event, isRippleTouchGenerated) {\n      var theme = this.context.muiTheme.ripple;\n\n      if (this.ignoreNextMouseDown && !isRippleTouchGenerated) {\n        this.ignoreNextMouseDown = false;\n        return;\n      }\n\n      var ripples = this.state.ripples; // Add a ripple to the ripples array\n\n      ripples = [].concat((0, _toConsumableArray3.default)(ripples), [_react2.default.createElement(_CircleRipple2.default, {\n        key: this.state.nextKey,\n        style: !this.props.centerRipple ? this.getRippleStyle(event) : {},\n        color: this.props.color || theme.color,\n        opacity: this.props.opacity,\n        touchGenerated: isRippleTouchGenerated\n      })]);\n      this.ignoreNextMouseDown = isRippleTouchGenerated;\n      this.setState({\n        hasRipples: true,\n        nextKey: this.state.nextKey + 1,\n        ripples: ripples\n      });\n    }\n  }, {\n    key: 'end',\n    value: function end() {\n      var currentRipples = this.state.ripples;\n      this.setState({\n        ripples: shift(currentRipples)\n      });\n\n      if (this.props.abortOnScroll) {\n        this.stopListeningForScrollAbort();\n      }\n    } // Check if the user seems to be scrolling and abort the animation if so\n\n  }, {\n    key: 'startListeningForScrollAbort',\n    value: function startListeningForScrollAbort(event) {\n      this.firstTouchY = event.touches[0].clientY;\n      this.firstTouchX = event.touches[0].clientX; // Note that when scolling Chrome throttles this event to every 200ms\n      // Also note we don't listen for scroll events directly as there's no general\n      // way to cover cases like scrolling within containers on the page\n\n      document.body.addEventListener('touchmove', this.handleTouchMove);\n    }\n  }, {\n    key: 'stopListeningForScrollAbort',\n    value: function stopListeningForScrollAbort() {\n      document.body.removeEventListener('touchmove', this.handleTouchMove);\n    }\n  }, {\n    key: 'getRippleStyle',\n    value: function getRippleStyle(event) {\n      var el = _reactDom2.default.findDOMNode(this);\n\n      var elHeight = el.offsetHeight;\n      var elWidth = el.offsetWidth;\n\n      var offset = _dom2.default.offset(el);\n\n      var isTouchEvent = event.touches && event.touches.length;\n      var pageX = isTouchEvent ? event.touches[0].pageX : event.pageX;\n      var pageY = isTouchEvent ? event.touches[0].pageY : event.pageY;\n      var pointerX = pageX - offset.left;\n      var pointerY = pageY - offset.top;\n      var topLeftDiag = this.calcDiag(pointerX, pointerY);\n      var topRightDiag = this.calcDiag(elWidth - pointerX, pointerY);\n      var botRightDiag = this.calcDiag(elWidth - pointerX, elHeight - pointerY);\n      var botLeftDiag = this.calcDiag(pointerX, elHeight - pointerY);\n      var rippleRadius = Math.max(topLeftDiag, topRightDiag, botRightDiag, botLeftDiag);\n      var rippleSize = rippleRadius * 2;\n      var left = pointerX - rippleRadius;\n      var top = pointerY - rippleRadius;\n      return {\n        directionInvariant: true,\n        height: rippleSize,\n        width: rippleSize,\n        top: top,\n        left: left\n      };\n    }\n  }, {\n    key: 'calcDiag',\n    value: function calcDiag(a, b) {\n      return Math.sqrt(a * a + b * b);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          children = _props.children,\n          style = _props.style;\n      var _state = this.state,\n          hasRipples = _state.hasRipples,\n          ripples = _state.ripples;\n      var prepareStyles = this.context.muiTheme.prepareStyles;\n      var rippleGroup = void 0;\n\n      if (hasRipples) {\n        var mergedStyles = (0, _simpleAssign2.default)({\n          height: '100%',\n          width: '100%',\n          position: 'absolute',\n          top: 0,\n          left: 0,\n          overflow: 'hidden',\n          pointerEvents: 'none',\n          zIndex: 1 // This is also needed so that ripples do not bleed past a parent border radius.\n\n        }, style);\n        rippleGroup = _react2.default.createElement(_TransitionGroup2.default, {\n          style: prepareStyles(mergedStyles)\n        }, ripples);\n      }\n\n      return _react2.default.createElement('div', {\n        onMouseUp: this.handleMouseUp,\n        onMouseDown: this.handleMouseDown,\n        onMouseLeave: this.handleMouseLeave,\n        onTouchStart: this.handleTouchStart,\n        onTouchEnd: this.handleTouchEnd\n      }, rippleGroup, children);\n    }\n  }]);\n  return TouchRipple;\n}(_react.Component);\n\nTouchRipple.defaultProps = {\n  abortOnScroll: true\n};\nTouchRipple.contextTypes = {\n  muiTheme: _propTypes2.default.object.isRequired\n};\nTouchRipple.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  abortOnScroll: _propTypes2.default.bool,\n  centerRipple: _propTypes2.default.bool,\n  children: _propTypes2.default.node,\n  color: _propTypes2.default.string,\n  opacity: _propTypes2.default.number,\n  style: _propTypes2.default.object\n} : {};\nexports.default = TouchRipple;","map":{"version":3,"sources":["/home/sujay/Documents/Bedansh Blog/Mind-Space-React/node_modules/material-ui/internal/TouchRipple.js"],"names":["Object","defineProperty","exports","value","_toConsumableArray2","require","_toConsumableArray3","_interopRequireDefault","_getPrototypeOf","_getPrototypeOf2","_classCallCheck2","_classCallCheck3","_createClass2","_createClass3","_possibleConstructorReturn2","_possibleConstructorReturn3","_inherits2","_inherits3","_toArray2","_toArray3","_simpleAssign","_simpleAssign2","_react","_react2","_propTypes","_propTypes2","_reactDom","_reactDom2","_TransitionGroup","_TransitionGroup2","_dom","_dom2","_CircleRipple","_CircleRipple2","obj","__esModule","default","shift","_ref","_ref2","newArray","slice","TouchRipple","_Component","props","context","_this","__proto__","call","handleMouseDown","event","button","start","handleMouseUp","end","handleMouseLeave","handleTouchStart","stopPropagation","abortOnScroll","touches","startListeningForScrollAbort","startTime","Date","now","handleTouchEnd","handleTouchMove","timeSinceStart","Math","abs","stopListeningForScrollAbort","deltaY","clientY","firstTouchY","deltaX","clientX","firstTouchX","currentRipples","state","ripples","ripple","abortedRipple","cloneElement","aborted","concat","setState","ignoreNextMouseDown","hasRipples","nextKey","key","isRippleTouchGenerated","theme","muiTheme","createElement","style","centerRipple","getRippleStyle","color","opacity","touchGenerated","document","body","addEventListener","removeEventListener","el","findDOMNode","elHeight","offsetHeight","elWidth","offsetWidth","offset","isTouchEvent","length","pageX","pageY","pointerX","left","pointerY","top","topLeftDiag","calcDiag","topRightDiag","botRightDiag","botLeftDiag","rippleRadius","max","rippleSize","directionInvariant","height","width","a","b","sqrt","render","_props","children","_state","prepareStyles","rippleGroup","mergedStyles","position","overflow","pointerEvents","zIndex","onMouseUp","onMouseDown","onMouseLeave","onTouchStart","onTouchEnd","Component","defaultProps","contextTypes","object","isRequired","propTypes","process","env","NODE_ENV","bool","node","string","number"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _toConsumableArray2 = require('babel-runtime/helpers/toConsumableArray');\n\nvar _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _toArray2 = require('babel-runtime/helpers/toArray');\n\nvar _toArray3 = _interopRequireDefault(_toArray2);\n\nvar _simpleAssign = require('simple-assign');\n\nvar _simpleAssign2 = _interopRequireDefault(_simpleAssign);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _TransitionGroup = require('react-transition-group/TransitionGroup');\n\nvar _TransitionGroup2 = _interopRequireDefault(_TransitionGroup);\n\nvar _dom = require('../utils/dom');\n\nvar _dom2 = _interopRequireDefault(_dom);\n\nvar _CircleRipple = require('./CircleRipple');\n\nvar _CircleRipple2 = _interopRequireDefault(_CircleRipple);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Remove the first element of the array\nvar shift = function shift(_ref) {\n  var _ref2 = (0, _toArray3.default)(_ref),\n      newArray = _ref2.slice(1);\n\n  return newArray;\n};\n\nvar TouchRipple = function (_Component) {\n  (0, _inherits3.default)(TouchRipple, _Component);\n\n  function TouchRipple(props, context) {\n    (0, _classCallCheck3.default)(this, TouchRipple);\n\n    // Touch start produces a mouse down event for compat reasons. To avoid\n    // showing ripples twice we skip showing a ripple for the first mouse down\n    // after a touch start. Note we don't store ignoreNextMouseDown in this.state\n    // to avoid re-rendering when we change it.\n    var _this = (0, _possibleConstructorReturn3.default)(this, (TouchRipple.__proto__ || (0, _getPrototypeOf2.default)(TouchRipple)).call(this, props, context));\n\n    _this.handleMouseDown = function (event) {\n      // only listen to left clicks\n      if (event.button === 0) {\n        _this.start(event, false);\n      }\n    };\n\n    _this.handleMouseUp = function () {\n      _this.end();\n    };\n\n    _this.handleMouseLeave = function () {\n      _this.end();\n    };\n\n    _this.handleTouchStart = function (event) {\n      event.stopPropagation();\n      // If the user is swiping (not just tapping), save the position so we can\n      // abort ripples if the user appears to be scrolling.\n      if (_this.props.abortOnScroll && event.touches) {\n        _this.startListeningForScrollAbort(event);\n        _this.startTime = Date.now();\n      }\n      _this.start(event, true);\n    };\n\n    _this.handleTouchEnd = function () {\n      _this.end();\n    };\n\n    _this.handleTouchMove = function (event) {\n      // Stop trying to abort if we're already 300ms into the animation\n      var timeSinceStart = Math.abs(Date.now() - _this.startTime);\n      if (timeSinceStart > 300) {\n        _this.stopListeningForScrollAbort();\n        return;\n      }\n\n      // If the user is scrolling...\n      var deltaY = Math.abs(event.touches[0].clientY - _this.firstTouchY);\n      var deltaX = Math.abs(event.touches[0].clientX - _this.firstTouchX);\n      // Call it a scroll after an arbitrary 6px (feels reasonable in testing)\n      if (deltaY > 6 || deltaX > 6) {\n        var currentRipples = _this.state.ripples;\n        var ripple = currentRipples[0];\n        // This clone will replace the ripple in ReactTransitionGroup with a\n        // version that will disappear immediately when removed from the DOM\n        var abortedRipple = _react2.default.cloneElement(ripple, { aborted: true });\n        // Remove the old ripple and replace it with the new updated one\n        currentRipples = shift(currentRipples);\n        currentRipples = [].concat((0, _toConsumableArray3.default)(currentRipples), [abortedRipple]);\n        _this.setState({ ripples: currentRipples }, function () {\n          // Call end after we've set the ripple to abort otherwise the setState\n          // in end() merges with this and the ripple abort fails\n          _this.end();\n        });\n      }\n    };\n\n    _this.ignoreNextMouseDown = false;\n\n    _this.state = {\n      // This prop allows us to only render the ReactTransitionGroup\n      // on the first click of the component, making the inital render faster.\n      hasRipples: false,\n      nextKey: 0,\n      ripples: []\n    };\n    return _this;\n  }\n\n  (0, _createClass3.default)(TouchRipple, [{\n    key: 'start',\n    value: function start(event, isRippleTouchGenerated) {\n      var theme = this.context.muiTheme.ripple;\n\n      if (this.ignoreNextMouseDown && !isRippleTouchGenerated) {\n        this.ignoreNextMouseDown = false;\n        return;\n      }\n\n      var ripples = this.state.ripples;\n\n      // Add a ripple to the ripples array\n      ripples = [].concat((0, _toConsumableArray3.default)(ripples), [_react2.default.createElement(_CircleRipple2.default, {\n        key: this.state.nextKey,\n        style: !this.props.centerRipple ? this.getRippleStyle(event) : {},\n        color: this.props.color || theme.color,\n        opacity: this.props.opacity,\n        touchGenerated: isRippleTouchGenerated\n      })]);\n\n      this.ignoreNextMouseDown = isRippleTouchGenerated;\n      this.setState({\n        hasRipples: true,\n        nextKey: this.state.nextKey + 1,\n        ripples: ripples\n      });\n    }\n  }, {\n    key: 'end',\n    value: function end() {\n      var currentRipples = this.state.ripples;\n      this.setState({\n        ripples: shift(currentRipples)\n      });\n      if (this.props.abortOnScroll) {\n        this.stopListeningForScrollAbort();\n      }\n    }\n\n    // Check if the user seems to be scrolling and abort the animation if so\n\n  }, {\n    key: 'startListeningForScrollAbort',\n    value: function startListeningForScrollAbort(event) {\n      this.firstTouchY = event.touches[0].clientY;\n      this.firstTouchX = event.touches[0].clientX;\n      // Note that when scolling Chrome throttles this event to every 200ms\n      // Also note we don't listen for scroll events directly as there's no general\n      // way to cover cases like scrolling within containers on the page\n      document.body.addEventListener('touchmove', this.handleTouchMove);\n    }\n  }, {\n    key: 'stopListeningForScrollAbort',\n    value: function stopListeningForScrollAbort() {\n      document.body.removeEventListener('touchmove', this.handleTouchMove);\n    }\n  }, {\n    key: 'getRippleStyle',\n    value: function getRippleStyle(event) {\n      var el = _reactDom2.default.findDOMNode(this);\n      var elHeight = el.offsetHeight;\n      var elWidth = el.offsetWidth;\n      var offset = _dom2.default.offset(el);\n      var isTouchEvent = event.touches && event.touches.length;\n      var pageX = isTouchEvent ? event.touches[0].pageX : event.pageX;\n      var pageY = isTouchEvent ? event.touches[0].pageY : event.pageY;\n      var pointerX = pageX - offset.left;\n      var pointerY = pageY - offset.top;\n      var topLeftDiag = this.calcDiag(pointerX, pointerY);\n      var topRightDiag = this.calcDiag(elWidth - pointerX, pointerY);\n      var botRightDiag = this.calcDiag(elWidth - pointerX, elHeight - pointerY);\n      var botLeftDiag = this.calcDiag(pointerX, elHeight - pointerY);\n      var rippleRadius = Math.max(topLeftDiag, topRightDiag, botRightDiag, botLeftDiag);\n      var rippleSize = rippleRadius * 2;\n      var left = pointerX - rippleRadius;\n      var top = pointerY - rippleRadius;\n\n      return {\n        directionInvariant: true,\n        height: rippleSize,\n        width: rippleSize,\n        top: top,\n        left: left\n      };\n    }\n  }, {\n    key: 'calcDiag',\n    value: function calcDiag(a, b) {\n      return Math.sqrt(a * a + b * b);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          children = _props.children,\n          style = _props.style;\n      var _state = this.state,\n          hasRipples = _state.hasRipples,\n          ripples = _state.ripples;\n      var prepareStyles = this.context.muiTheme.prepareStyles;\n\n\n      var rippleGroup = void 0;\n\n      if (hasRipples) {\n        var mergedStyles = (0, _simpleAssign2.default)({\n          height: '100%',\n          width: '100%',\n          position: 'absolute',\n          top: 0,\n          left: 0,\n          overflow: 'hidden',\n          pointerEvents: 'none',\n          zIndex: 1 // This is also needed so that ripples do not bleed past a parent border radius.\n        }, style);\n\n        rippleGroup = _react2.default.createElement(\n          _TransitionGroup2.default,\n          { style: prepareStyles(mergedStyles) },\n          ripples\n        );\n      }\n\n      return _react2.default.createElement(\n        'div',\n        {\n          onMouseUp: this.handleMouseUp,\n          onMouseDown: this.handleMouseDown,\n          onMouseLeave: this.handleMouseLeave,\n          onTouchStart: this.handleTouchStart,\n          onTouchEnd: this.handleTouchEnd\n        },\n        rippleGroup,\n        children\n      );\n    }\n  }]);\n  return TouchRipple;\n}(_react.Component);\n\nTouchRipple.defaultProps = {\n  abortOnScroll: true\n};\nTouchRipple.contextTypes = {\n  muiTheme: _propTypes2.default.object.isRequired\n};\nTouchRipple.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  abortOnScroll: _propTypes2.default.bool,\n  centerRipple: _propTypes2.default.bool,\n  children: _propTypes2.default.node,\n  color: _propTypes2.default.string,\n  opacity: _propTypes2.default.number,\n  style: _propTypes2.default.object\n} : {};\nexports.default = TouchRipple;"]},"metadata":{},"sourceType":"script"}